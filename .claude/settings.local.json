{
  "permissions": {
    "allow": [
      "Bash(npm run dev:*)",
      "Bash(cat:*)",
      "Bash([ -f .env ])",
      "Bash([ -f \"/Users/maksimgolovaty/Library/Mobile Documents/com~apple~CloudDocs/Development/ai-agent-platform/backend/.env\" ])",
      "Bash([ -d \"/Users/maksimgolovaty/Library/Mobile Documents/com~apple~CloudDocs/Development/ai-agent-platform/backend/node_modules\" ])",
      "Bash(cp:*)",
      "Bash([ -f \"/Users/maksimgolovaty/Library/Mobile Documents/com~apple~CloudDocs/Development/ai-agent-platform/.env.local\" ])",
      "Bash(npm install:*)",
      "Bash(npx prisma generate:*)",
      "Bash(npx prisma db push:*)",
      "Bash(lsof:*)",
      "Bash(xargs kill:*)",
      "Bash(curl:*)",
      "Bash(cd:*)",
      "Bash(git add .claude/settings.local.json backend/prisma/schema.prisma src/contexts/AuthContext.tsx src/pages/Auth.tsx src/services/api/apiClient.ts src/services/api/auth.service.ts tsconfig.json vite-env.d.ts)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Implement authentication system with registration and login\n\nImplemented complete authentication flow with the following features:\n\nAuthentication UI:\n- Created registration form with organization name, email, and password confirmation\n- Created login form with email and password fields\n- Added form validation with Russian error messages\n- Added success/error toast notifications\n- Auto-redirect to login page after successful registration\n\nBackend Integration:\n- Fixed Prisma schema for SQLite compatibility (removed PostgreSQL-specific types)\n- Integrated authentication API endpoints\n- Implemented JWT token storage in localStorage\n- Added axios interceptor to attach auth token to requests\n- Fixed CORS configuration between frontend and backend\n\nUser Experience Improvements:\n- Added validation for password match\n- Added minimum password length requirement (6 characters)\n- Organization name field replaces generic name field\n- Clear error messages for duplicate users and invalid credentials\n- Success notifications for login and registration\n- Form fields clear after successful registration\n\nTechnical Fixes:\n- Fixed axios response interceptor to not reload page on auth errors\n- Added TypeScript environment types for Vite\n- Removed hard page redirects in favor of React state management\n- Added console logging for debugging authentication flow\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(npx tsx:*)",
      "Bash(sqlite3:*)",
      "Bash(git cherry-pick:*)",
      "Bash(git add:*)",
      "Bash(npx localtunnel:*)",
      "Bash(brew install:*)",
      "Bash(cloudflared tunnel:*)",
      "Bash(chmod:*)",
      "Bash([ -d node_modules ])",
      "SlashCommand(/dev)",
      "Bash([ -f .env.local ])",
      "Bash(/opt/homebrew/bin/npm install --legacy-peer-deps)",
      "Bash(/opt/homebrew/bin/npm install)",
      "Bash(export PATH=\"/opt/homebrew/bin:/usr/bin:/bin:$PATH\")",
      "Bash(python3:*)",
      "Bash(git worktree:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Add production-ready infrastructure and security features\n\nDocker Infrastructure:\n- Add multi-stage Dockerfile for full application\n- Add separate Dockerfile for backend with Prisma migrations\n- Add Dockerfile.frontend with Nginx for static serving\n- Add docker-compose.yml with postgres, redis, backend, frontend services\n- Add nginx.conf for frontend proxy configuration\n- Add docker-start.sh script for easy deployment (dev/prod/full modes)\n- Add .dockerignore to optimize build context\n\nLogging & Monitoring:\n- Add Winston structured logger with file rotation\n- Add request/response logging middleware\n- Add webhook event logging\n- Add agent response logging\n\nSecurity & Rate Limiting:\n- Add express-rate-limit middleware (global, auth, api, chat limiters)\n- Add global error handler with custom error classes\n- Add input validators using express-validator\n- Add Kommo webhook verification (IP, signature, User-Agent)\n- Remove API keys from Vite client bundle\n\nServices:\n- Add Nodemailer email service for document delivery\n- Add PDF preview generation service using Sharp\n- Update agent-documents controller with preview support\n- Update test-chat with email document sending\n\nConfiguration:\n- Update .env.example with all new environment variables\n- Update package.json with new dependencies\n- Remove demo seed script (user has real admin account)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  },
  "enabledMcpjsonServers": [
    "sequential-thinking",
    "playwright",
    "shadcn"
  ]
}
